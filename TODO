* Play store releases
  X create play store account
  X link to firebase
  X create API key
  X configure fastlane
  X install ruby environment
  X create email address just for the app
  X create app in play store
    X title
      X Face Merging
    X short description
      X Takes photos and detects faces. Will merge faces when the app is complete.
    X full description
      X same as short description
    X 512 x 512 icon
      X app/src/main/ic_launcher-web.png
    X 2 phone screenshots
      X app/src/main/screenshots/landscape.png
      X app/src/main/screenshots/portrait.png
    X 1024 x 500 feature graphic
      X only shown if also have promo video
      X required anyway
      => can use empty image.
      X app/src/main/feature_graphic.png
    X category
      X Photography
    X content rating
    X e-mail
  X make release with the play store UI
  X put beta release URL on github.
  X set up API key locally
    X add to .gitignore
  X configure CI with API key
  X configure fastlane supply from play store
  X build and deploy using fastlane from Circle CI
  - better play store text etc.

* Use different android flavor for development and production.

* Use android app bundle.
  - upload signing key
  - create upload key
  - ???

* Render coordinates on top of images
  - scale images in a way that allows coordinate transforms to be known and aspect ratio to be preserved.
  - observe and render Coordinates.

* Refactor and refine face-detection implementation.
  - too much code in ImageFragment

* Does splash screen look OK on android 21/22?

* If wipe AVD data, camera app doesn't send photo back to app first time use it.

* ACTION_IMAGE_CAPTURE Intent might not work well on all platforms
  - https://commonsware.com/blog/2015/06/08/action-image-capture-fallacy.html

* ViewSlider2 position not persisted on rotation.
  - probably since ViewPager2 saves and restores it, but when restored, there are no images in the slider.
  - stop ViewPager2 persisting position itself and persist ViewPager2 id in ViewModel instead
    - observe LiveData<MainActivityState>
    - same problem is moved into code that sets up this LiveData
  - keep hold of restored state and use it for first images update?

* Screenshots in github.

* Don't show splashscreen if start up is fast enough
  - but if do show it, show it for at least 1.5s.

* Better unit tests.

* Garbage collect files after delete them and UI has finished updating.
  - when ViewPager2 stops using them
    - https://developer.android.com/reference/android/support/v7/widget/RecyclerView.RecyclerListener.html?
  - on startup, in case app shuts down or crashes before can delete files
    - add database index for file column so can query if it is used
  - don't remove images that camera Intent has created but that aren't yet store in the db.

* Handle rejected permissions.

* Better appName.

* Include licence text in About screen.

* Image-deletion dialogue dismissed if rotate device.
  - use androidx DialogFragment?

* Toggleable overlay showing debug info.

* If possible, stop camera app asking for location permission.

* What happens if Camera app isn't given location permission?

* Test app on Firebase.
  - https://circleci.com/docs/2.0/language-android/#testing-with-firebase-test-lab

* Add more Firebase Analytics events.
  - https://firebase.google.com/docs/analytics/android/start
  - enabled only in release builds.

* Choose colour scheme for app.
  - current scheme gives low-contrast warnings in the pre-launch report.

* Material design
  - implementation 'com.google.android.material:material:1.0.0'
  - don't misuse dark/light primary color resources
  - Floating Action Button should be in fixed position and fade in/out of view as swipe (if remove it from merged image screen)
  - animate the FAB as switch activities.

* GDPR.

* Automated licence report.
  - listed by licence type.
  - jk1?

* Better play-store screenshots.

* CircleCI has too many minor issues
  - no per-branch env. vars.
  - artifacts tab not always shown
    - https://discuss.circleci.com/t/stored-artifacts-not-showing-up-on-a-build/20761/3

* Replace Room with something better?
  - Realm?

* Is it necessary to wait for MLKit model to download when necessary
    - https://firebase.google.com/docs/ml-kit/android/detect-faces#before-you-begin
    - how?
    - is having manifest config. sufficient?
    - https://github.com/firebase/quickstart-android/issues/586
      - for custom image recognition models, not face detection

* Use androidx.palette to ensure image overlay visible?
  - dev/image_overlay_palette

* Persist whether analytics and crashlytics have been opted in to, and enable in MainApplication or OnboardingActivity, not MainActivity.
  - otherwise, might miss some early crashes.

* Configure android lint
  - tune priorities.
  - make CircleCI fail.

* kotlin doesn't use java-style capitalization for CONSTANTS.

* Does idiomatic kotlin use underscores_in_automatic_view_fields?

* Version number screen.

* Why wasn't it possible to get coroutine scope like this?
  - https://developer.android.com/topic/libraries/architecture/coroutines#lifecyclescope
  - had to implement CoroutineScope in ImageFragment instead, which is OK, but not as clear

* Explain need INTERNET permission for model download in play-store app blurb.

* Coherent naming scheme for resource ids.

* Better structure for java packages.

* Move features in this list to github issues.

* Spotbugs.

* "API 'variant.getMergeResources()' is obsolete" gradle sync warning.

* Publish to store.
  - upload signing key
  - change over to building with upload key.
  - https://developer.android.com/distribute/best-practices/launch/launch-checklist

* AndroidManifest says app suports RTL.
  - is that correct?

* Allow app's data to be backed up.
  - set allowBackup="true"
  - android lint says need to exclude "GCM id" since can't be reused

* Make forks build on Circle CI?
  - dummy google-services.json?
